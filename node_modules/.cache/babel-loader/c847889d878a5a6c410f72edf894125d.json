{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.functionResourceToEmulatedTriggerDefintion = void 0;\n\nconst _ = require(\"lodash\");\n\nconst functionsEmulatorShared_1 = require(\"../../emulator/functionsEmulatorShared\");\n\nconst emulatorLogger_1 = require(\"../../emulator/emulatorLogger\");\n\nconst types_1 = require(\"../../emulator/types\");\n\nfunction functionResourceToEmulatedTriggerDefintion(resource) {\n  const etd = {\n    name: resource.name,\n    entryPoint: resource.name\n  };\n\n  const properties = _.get(resource, \"properties\", {});\n\n  if (properties.timeout) {\n    etd.timeout = properties.timeout;\n  }\n\n  if (properties.location) {\n    etd.regions = [properties.location];\n  }\n\n  if (properties.availableMemoryMb) {\n    etd.availableMemoryMb = properties.availableMemoryMb;\n  }\n\n  if (properties.httpsTrigger) {\n    etd.httpsTrigger = properties.httpsTrigger;\n  } else if (properties.eventTrigger) {\n    properties.eventTrigger.service = functionsEmulatorShared_1.getServiceFromEventType(properties.eventTrigger.eventType);\n    etd.eventTrigger = properties.eventTrigger;\n  } else {\n    emulatorLogger_1.EmulatorLogger.forEmulator(types_1.Emulators.FUNCTIONS).log(\"WARN\", `Function '${resource.name} is missing a trigger in extension.yaml. Please add one, as triggers defined in code are ignored.`);\n  }\n\n  return etd;\n}\n\nexports.functionResourceToEmulatedTriggerDefintion = functionResourceToEmulatedTriggerDefintion;","map":{"version":3,"sources":["C:/Users/Sharik/Desktop/Projects/ReactProject/my-first-app/node_modules/firebase-tools/lib/extensions/emulator/triggerHelper.js"],"names":["Object","defineProperty","exports","value","functionResourceToEmulatedTriggerDefintion","_","require","functionsEmulatorShared_1","emulatorLogger_1","types_1","resource","etd","name","entryPoint","properties","get","timeout","location","regions","availableMemoryMb","httpsTrigger","eventTrigger","service","getServiceFromEventType","eventType","EmulatorLogger","forEmulator","Emulators","FUNCTIONS","log"],"mappings":"AAAA;;AACAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAAEC,EAAAA,KAAK,EAAE;AAAT,CAA7C;AACAD,OAAO,CAACE,0CAAR,GAAqD,KAAK,CAA1D;;AACA,MAAMC,CAAC,GAAGC,OAAO,CAAC,QAAD,CAAjB;;AACA,MAAMC,yBAAyB,GAAGD,OAAO,CAAC,wCAAD,CAAzC;;AACA,MAAME,gBAAgB,GAAGF,OAAO,CAAC,+BAAD,CAAhC;;AACA,MAAMG,OAAO,GAAGH,OAAO,CAAC,sBAAD,CAAvB;;AACA,SAASF,0CAAT,CAAoDM,QAApD,EAA8D;AAC1D,QAAMC,GAAG,GAAG;AACRC,IAAAA,IAAI,EAAEF,QAAQ,CAACE,IADP;AAERC,IAAAA,UAAU,EAAEH,QAAQ,CAACE;AAFb,GAAZ;;AAIA,QAAME,UAAU,GAAGT,CAAC,CAACU,GAAF,CAAML,QAAN,EAAgB,YAAhB,EAA8B,EAA9B,CAAnB;;AACA,MAAII,UAAU,CAACE,OAAf,EAAwB;AACpBL,IAAAA,GAAG,CAACK,OAAJ,GAAcF,UAAU,CAACE,OAAzB;AACH;;AACD,MAAIF,UAAU,CAACG,QAAf,EAAyB;AACrBN,IAAAA,GAAG,CAACO,OAAJ,GAAc,CAACJ,UAAU,CAACG,QAAZ,CAAd;AACH;;AACD,MAAIH,UAAU,CAACK,iBAAf,EAAkC;AAC9BR,IAAAA,GAAG,CAACQ,iBAAJ,GAAwBL,UAAU,CAACK,iBAAnC;AACH;;AACD,MAAIL,UAAU,CAACM,YAAf,EAA6B;AACzBT,IAAAA,GAAG,CAACS,YAAJ,GAAmBN,UAAU,CAACM,YAA9B;AACH,GAFD,MAGK,IAAIN,UAAU,CAACO,YAAf,EAA6B;AAC9BP,IAAAA,UAAU,CAACO,YAAX,CAAwBC,OAAxB,GAAkCf,yBAAyB,CAACgB,uBAA1B,CAAkDT,UAAU,CAACO,YAAX,CAAwBG,SAA1E,CAAlC;AACAb,IAAAA,GAAG,CAACU,YAAJ,GAAmBP,UAAU,CAACO,YAA9B;AACH,GAHI,MAIA;AACDb,IAAAA,gBAAgB,CAACiB,cAAjB,CAAgCC,WAAhC,CAA4CjB,OAAO,CAACkB,SAAR,CAAkBC,SAA9D,EAAyEC,GAAzE,CAA6E,MAA7E,EAAsF,aAAYnB,QAAQ,CAACE,IAAK,mGAAhH;AACH;;AACD,SAAOD,GAAP;AACH;;AACDT,OAAO,CAACE,0CAAR,GAAqDA,0CAArD","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.functionResourceToEmulatedTriggerDefintion = void 0;\nconst _ = require(\"lodash\");\nconst functionsEmulatorShared_1 = require(\"../../emulator/functionsEmulatorShared\");\nconst emulatorLogger_1 = require(\"../../emulator/emulatorLogger\");\nconst types_1 = require(\"../../emulator/types\");\nfunction functionResourceToEmulatedTriggerDefintion(resource) {\n    const etd = {\n        name: resource.name,\n        entryPoint: resource.name,\n    };\n    const properties = _.get(resource, \"properties\", {});\n    if (properties.timeout) {\n        etd.timeout = properties.timeout;\n    }\n    if (properties.location) {\n        etd.regions = [properties.location];\n    }\n    if (properties.availableMemoryMb) {\n        etd.availableMemoryMb = properties.availableMemoryMb;\n    }\n    if (properties.httpsTrigger) {\n        etd.httpsTrigger = properties.httpsTrigger;\n    }\n    else if (properties.eventTrigger) {\n        properties.eventTrigger.service = functionsEmulatorShared_1.getServiceFromEventType(properties.eventTrigger.eventType);\n        etd.eventTrigger = properties.eventTrigger;\n    }\n    else {\n        emulatorLogger_1.EmulatorLogger.forEmulator(types_1.Emulators.FUNCTIONS).log(\"WARN\", `Function '${resource.name} is missing a trigger in extension.yaml. Please add one, as triggers defined in code are ignored.`);\n    }\n    return etd;\n}\nexports.functionResourceToEmulatedTriggerDefintion = functionResourceToEmulatedTriggerDefintion;\n"]},"metadata":{},"sourceType":"script"}