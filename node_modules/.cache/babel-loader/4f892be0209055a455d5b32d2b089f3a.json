{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.EventUtils = void 0;\n\nconst _ = require(\"lodash\");\n\nclass EventUtils {\n  static isEvent(proto) {\n    return _.has(proto, \"context\") && _.has(proto, \"data\");\n  }\n\n  static isLegacyEvent(proto) {\n    return _.has(proto, \"data\") && _.has(proto, \"resource\");\n  }\n\n  static isBinaryCloudEvent(req) {\n    return !!(req.header(\"ce-type\") && req.header(\"ce-specversion\") && req.header(\"ce-source\") && req.header(\"ce-id\"));\n  }\n\n  static extractBinaryCloudEventContext(req) {\n    const context = {};\n\n    for (const name of Object.keys(req.headers)) {\n      if (name.startsWith(\"ce-\")) {\n        const attributeName = name.substr(\"ce-\".length);\n        context[attributeName] = req.header(name);\n      }\n    }\n\n    return context;\n  }\n\n}\n\nexports.EventUtils = EventUtils;","map":{"version":3,"sources":["C:/Users/Sharik/Desktop/Projects/ReactProject/my-first-app/node_modules/firebase-tools/lib/emulator/events/types.js"],"names":["Object","defineProperty","exports","value","EventUtils","_","require","isEvent","proto","has","isLegacyEvent","isBinaryCloudEvent","req","header","extractBinaryCloudEventContext","context","name","keys","headers","startsWith","attributeName","substr","length"],"mappings":"AAAA;;AACAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAAEC,EAAAA,KAAK,EAAE;AAAT,CAA7C;AACAD,OAAO,CAACE,UAAR,GAAqB,KAAK,CAA1B;;AACA,MAAMC,CAAC,GAAGC,OAAO,CAAC,QAAD,CAAjB;;AACA,MAAMF,UAAN,CAAiB;AACC,SAAPG,OAAO,CAACC,KAAD,EAAQ;AAClB,WAAOH,CAAC,CAACI,GAAF,CAAMD,KAAN,EAAa,SAAb,KAA2BH,CAAC,CAACI,GAAF,CAAMD,KAAN,EAAa,MAAb,CAAlC;AACH;;AACmB,SAAbE,aAAa,CAACF,KAAD,EAAQ;AACxB,WAAOH,CAAC,CAACI,GAAF,CAAMD,KAAN,EAAa,MAAb,KAAwBH,CAAC,CAACI,GAAF,CAAMD,KAAN,EAAa,UAAb,CAA/B;AACH;;AACwB,SAAlBG,kBAAkB,CAACC,GAAD,EAAM;AAC3B,WAAO,CAAC,EAAEA,GAAG,CAACC,MAAJ,CAAW,SAAX,KACND,GAAG,CAACC,MAAJ,CAAW,gBAAX,CADM,IAEND,GAAG,CAACC,MAAJ,CAAW,WAAX,CAFM,IAGND,GAAG,CAACC,MAAJ,CAAW,OAAX,CAHI,CAAR;AAIH;;AACoC,SAA9BC,8BAA8B,CAACF,GAAD,EAAM;AACvC,UAAMG,OAAO,GAAG,EAAhB;;AACA,SAAK,MAAMC,IAAX,IAAmBhB,MAAM,CAACiB,IAAP,CAAYL,GAAG,CAACM,OAAhB,CAAnB,EAA6C;AACzC,UAAIF,IAAI,CAACG,UAAL,CAAgB,KAAhB,CAAJ,EAA4B;AACxB,cAAMC,aAAa,GAAGJ,IAAI,CAACK,MAAL,CAAY,MAAMC,MAAlB,CAAtB;AACAP,QAAAA,OAAO,CAACK,aAAD,CAAP,GAAyBR,GAAG,CAACC,MAAJ,CAAWG,IAAX,CAAzB;AACH;AACJ;;AACD,WAAOD,OAAP;AACH;;AAtBY;;AAwBjBb,OAAO,CAACE,UAAR,GAAqBA,UAArB","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.EventUtils = void 0;\nconst _ = require(\"lodash\");\nclass EventUtils {\n    static isEvent(proto) {\n        return _.has(proto, \"context\") && _.has(proto, \"data\");\n    }\n    static isLegacyEvent(proto) {\n        return _.has(proto, \"data\") && _.has(proto, \"resource\");\n    }\n    static isBinaryCloudEvent(req) {\n        return !!(req.header(\"ce-type\") &&\n            req.header(\"ce-specversion\") &&\n            req.header(\"ce-source\") &&\n            req.header(\"ce-id\"));\n    }\n    static extractBinaryCloudEventContext(req) {\n        const context = {};\n        for (const name of Object.keys(req.headers)) {\n            if (name.startsWith(\"ce-\")) {\n                const attributeName = name.substr(\"ce-\".length);\n                context[attributeName] = req.header(name);\n            }\n        }\n        return context;\n    }\n}\nexports.EventUtils = EventUtils;\n"]},"metadata":{},"sourceType":"script"}